<!--

---Import---
import AddingAMetricstore from './_adding_a_metricstore.mdx'
<AddingAMetricstore />

---Header---
### 1. Adding a MetricStore
-->
import TechnicalTag from '/docs/term_tags/_tag.mdx';

A `MetricStore` is a special <TechnicalTag tag="store" text="Store" /> that can store Metrics computed during Validation. A `MetricStore` tracks the run_id of the Validation and the <TechnicalTag tag="expectation_suite" text="Expectation Suite" /> name in addition to the Metric name and Metric kwargs.

To define a `MetricStore`, add a <TechnicalTag tag="metric_store" text="Metric Store" /> config to the `stores` section of your `great_expectations.yml`.

This config requires two keys:

- The `class_name` field determines which class will be instantiated to create this store, and must be `MetricStore`.
- The `store_backend` field configures the particulars of how your metrics will be persisted.

The `class_name` field determines which class will be instantiated to create this `StoreBackend`, and other fields are passed through to the StoreBackend class on instantiation.

In theory, any valid StoreBackend can be used, however at the time of writing, the only BackendStore under test for use with a `MetricStore` is the DatabaseStoreBackend with Postgres.

:::caution

Using a `TupleS3StoreBackend` as the backend for a Metric Store is an experimental feature of Metric Stores, and not yet under test.

:::

```yaml
stores:
    #  ...
    metric_store:  # You can choose any name as the key for your metric store
        class_name: MetricStore
        store_backend:
            class_name: TupleS3StoreBackend
            bucket: '<your_s3_bucket_name>'
            prefix: '<your_s3_bucket_folder_name>'
```

The next time your DataContext is loaded, it will connect to the database and initialize a table to store metrics if
one has not already been created. See the metrics_reference for more information on additional configuration
options.
